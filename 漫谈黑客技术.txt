网络安全在互联网技术飞速发展的今天,越来越受到重视.随着黑客技术的不断进步,网络漏洞也越来越多的被披露,入侵网络已经不是那么难的事了.然而再一次又一次的攻防斗争中,如何才能让自己的系统固若金汤呢?答案是先要从了解入侵技术开始.我发表这篇稿子的目的也就是让大家知道原理以及怎么去防范,而不是要大家成为黑客.
相信大家对今年五月的中美黑客大战依然印象深刻.从攻击结果看,成功被"黑"的多数是被利用Windows NT/2000
Unicode漏洞(以下简称"U漏洞")入侵的网络主机.下面让我们一起来剖析一下攻击流程.
要进行攻击之前,首先要做两个准备:一是知道对方的IP地址;而是要确定目标主机存在该系统漏洞.IP地址即Internet
Place,主要用于绝对定位网络资源,在绝大多数网络攻击中都需要知道对方的IP.IP地址是一串十进制数字,其基本格式为:xxx.xxx.xxx.xxx。当然你可以用各种IP扫描软件找出IP，但对于一般情况最简单的方法是用MS－DOS的Ping命令。打开MS－DOS或运行对话框，输入"Ping"加上你要入侵的网站地址，如"Ping
www.h2ont.com"如果返回IP地址则表示成功。
知道目标的IP地址后我们来确定系统是否存在漏洞。我们打开浏览器里输入:http://xxx.xxx.xxx.xxx/scripts/..ppppp../winnt/system32/cmd.exe?/c+dir或:http://xxx.xxx.xxx.xxx/scripts/msadc/..ppppp../..ppppp../..ppppp../winnt/system32/cmd.exe?/c+dir其中ppppp为有漏洞的U编码在中文Windows中为%c1%1c和%c0%2f英文版中为%c0%af、%c1%pc、%c0%9v、%c0%qf和%c1%8s。如果显示目录页面这说明该系统存在U漏洞。
到此为止，准备工作已经完成。通过U漏洞可以使攻击者在浏览器执行一些类似DOS的形式明令。如更改主页:http://xxx.xxx.xxx.xxx/scripts/..ppppp../winnt/system32/cmd.exe?/c+echo+I+Hacked+Your+Site+>c:\inetpub\wwwroot\index.asp。当然像传统的Dir、Copy这样的命令你也可以使用只是用"＋"号代替原来的空格即可。再缺德一点你可以下载WinNT目录下的Sam._到本地主机破解从而获得系统密码。你甚至可以上传木马或其它自编exe、bat或asp文件远程执行从而获得系统管理员级的权限，当然最可怕的是上传病毒。
简单分析一下这次入侵的过程。不难看出其要点所在希望对网管一些启示。及时查看系统日志以了解系统是否被入侵。为了防止用以上方法进入系统，你可以把执行目录Sample、Scripts、Cgi-Bin等删除或改名，也可以把System32下的com.exe、net.exe改名或删除。这样攻击者就难于猜测命令的执行目录，也无法找到执行命令的文件，从而让入侵者无从下手。
好了，篇幅有限我们就研究这么多，在下一期的PE中，我将与大家继续研究另外的入侵方法，有兴趣的朋友请留意。
记住，学习攻击手段是为了知己知彼，而非为了成为入侵者！

思夏 Leask
9.10.2001
